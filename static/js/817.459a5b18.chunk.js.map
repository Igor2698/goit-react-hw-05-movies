{"version":3,"file":"static/js/817.459a5b18.chunk.js","mappings":"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","sources":["api.js","components/Loader.jsx","components/TextErrorView.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoovieDetails/MoovieDetails.module.css?fe56","pages/MoovieDetails/MoovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\n// 2b5ddb7b349a0a14050a55daa13e1ea4\nconst apiKey = '2b5ddb7b349a0a14050a55daa13e1ea4';\n\n\n\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getMoovies = async () => {\n    try {\n        const response = await axios.get('trending/all/day', {\n            params: {\n                api_key: apiKey,\n                language: 'en-US',\n            },\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Ошибка при выполнении запроса:', error);\n        throw error;\n    }\n};\n\n\nexport const getMoovieByID = async mooveId => {\n\n\n    try {\n        const response = await axios.get(`movie/${mooveId}`, {\n            params: {\n                api_key: apiKey,\n\n            },\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Ошибка при выполнении запроса:', error);\n        throw error;\n    }\n}\n\n\n\n\nexport const getCast = async moovieId => {\n\n\n    try {\n        const response = await axios.get(`movie/${moovieId}/credits`, {\n            params: {\n                api_key: apiKey,\n                page: 1,\n\n            },\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Ошибка при выполнении запроса:', error);\n        throw error;\n    }\n}\n\n\nexport const getReviews = async moovieId => {\n\n\n    try {\n        const response = await axios.get(`movie/${moovieId}/reviews`, {\n            params: {\n                api_key: apiKey,\n\n            },\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Ошибка при выполнении запроса:', error);\n        throw error;\n    }\n}\n\n\n\nexport const getMoovieByName = async moovieName => {\n\n\n    try {\n        const response = await axios.get(`search/movie?query=${moovieName}`, {\n            params: {\n                api_key: apiKey,\n\n            },\n        });\n        return response.data;\n    } catch (error) {\n        console.error('Ошибка при выполнении запроса:', error);\n        throw error;\n    }\n}\n\n\n\n\n\n\n\n\n\n","import { ColorRing } from 'react-loader-spinner';\n\nexport const ImagePendingView = () => {\n  return (\n    <ColorRing\n      visible={true}\n      height=\"80\"\n      width=\"80\"\n      ariaLabel=\"blocks-loading\"\n      wrapperStyle={{}}\n      wrapperClass=\"blocks-wrapper\"\n      colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n    />\n  );\n};\n","export default function TextErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <p>{message}</p>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"MoovieDetailsTitle\":\"MoovieDetails_MoovieDetailsTitle__ICtVR\",\"MoovieDetailsScore\":\"MoovieDetails_MoovieDetailsScore__0KwXH\",\"genresTitle\":\"MoovieDetails_genresTitle__WZFNG\",\"listOfGenres\":\"MoovieDetails_listOfGenres__l2trf\",\"overviewText\":\"MoovieDetails_overviewText__CdkC1\",\"overviewTitle\":\"MoovieDetails_overviewTitle__Ur5iJ\",\"moovieDetailsWrapper\":\"MoovieDetails_moovieDetailsWrapper__-r4c1\",\"moovieDetailsimg\":\"MoovieDetails_moovieDetailsimg__-d53h\",\"textWrapper\":\"MoovieDetails_textWrapper__X5c5z\",\"backButton\":\"MoovieDetails_backButton__5mBLf\"};","import { useLocation, useParams } from 'react-router-dom';\nimport { useEffect, useRef, useState } from 'react';\nimport { getMoovieByID } from 'api';\nimport { useNavigate, Link, Outlet } from 'react-router-dom';\nimport { ImagePendingView } from 'components/Loader';\nimport css from './MoovieDetails.module.css';\nimport { AiOutlineLeftCircle } from 'react-icons/ai';\n\nimport TextErrorView from 'components/TextErrorView';\n\nconst defaultImg =\n  'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\nconst MoovieDetails = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  const [moovie, setMoovie] = useState();\n  const { id } = useParams();\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function getOneMoovie() {\n      try {\n        setLoading(true);\n        const response = await getMoovieByID(id);\n\n        setMoovie(response);\n        setLoading(false);\n      } catch (error) {\n        setError(error);\n        navigate('/*', { replace: true });\n        console.log(error);\n      }\n    }\n\n    getOneMoovie();\n  }, [id, navigate]);\n\n  console.log(moovie);\n\n  return (\n    <div className={css.moovieDetailsWrapper}>\n      {error && <TextErrorView message={error.message} />}\n\n      {loading && <ImagePendingView />}\n\n      <Link className={css.backButton} to={backLinkLocationRef.current}>\n        <AiOutlineLeftCircle />\n        Back to products\n      </Link>\n      {moovie && (\n        <>\n          <img\n            className={css.moovieDetailsimg}\n            src={\n              moovie.poster_path\n                ? `https://image.tmdb.org/t/p/w500/${moovie.poster_path}`\n                : defaultImg\n            }\n            width=\"400\"\n            alt=\"poster\"\n          />\n\n          <div className={css.textWrapper}>\n            <h2 className={css.MoovieDetailsTitle}>\n              {moovie.title} (\n              {moovie.release_date && moovie.release_date.slice(0, 4)})\n            </h2>\n            <p className={css.MoovieDetailsScore}>\n              User Score:\n              {moovie.vote_average && Math.floor(moovie.vote_average * 10)}%\n            </p>\n\n            <h2 className={css.overviewTitle}>Overview:</h2>\n            <p className={css.overviewText}> {moovie.overview}</p>\n            <h3 className={css.genresTitle}>Genres: </h3>\n            <p className={css.listOfGenres}>\n              {moovie.genres.map(genre => genre.name).join(', ')}\n            </p>\n          </div>\n        </>\n      )}\n      <h2>Additional information</h2>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MoovieDetails;\n"],"names":["apiKey","axios","getMoovies","params","api_key","language","response","data","console","error","getMoovieByID","mooveId","getCast","moovieId","page","getReviews","getMoovieByName","moovieName","ImagePendingView","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","TextErrorView","message","role","useState","loading","setLoading","setError","location","useLocation","backLinkLocationRef","useRef","state","from","moovie","setMoovie","id","useParams","navigate","useNavigate","useEffect","replace","log","getOneMoovie","className","css","to","current","src","poster_path","alt","title","release_date","slice","vote_average","Math","floor","overview","genres","map","genre","name","join"],"sourceRoot":""}